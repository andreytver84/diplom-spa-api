# Учебное приложение кинотеатра

### выполнил Увиков Андрей

## Приложение состоит из файлов:

Репозиторий React по адресу [https://github.com/andreytver84/diplom-spa-api.git](https://github.com/andreytver84/diplom-spa-api.git)

Репозиторий PHP API [https://github.com/andreytver84/diplom-php-api](https://github.com/andreytver84/diplom-php-api)

И базы данных diplom [https://drive.google.com/file/d/1OygyK2gu7kIFCriVI2VnCjJ2M05HFjKX/view?usp=sharing](скачать)

## React

Для начала работы загрузите React репозиторий, откройте консоль в папке приложения и установите зависимости npm install

В папке React приложения нужно зайти в папку src/components и открыть файл apiConfig.js для установки константы для соединения с нашим API

Если в режиме локальной работы то указываем const BASE_URL = "адрес своего сервера", в моём случае это было const BASE_URL = "http://localhost:80/"

### `важно`

Если делаем сборку в продакшн, то меняем адрес своего сервера на “/” т.е. const BASE_URL = “/”

## API

Если вы используете xampp, зайдите в папку приложения, далее папку htdocs и загрузите сюда репозиторий PHP API. Если другой софт, то в корневую папку своего сервера для работы с API

Так как при локальной разработке приложение и API запускается с разных портов, в папке api лежит файл headers.php, в котором надо раскомментировать

```php
header('Access-Control-Allow-Origin: *');
header('Access-Control-Allow-Headers: *');
```

и закомментировать, если папка api отправляется на хостинг в корневую папку сайта

## База данных

Создайте базу данных diplom и импортируйте туда загруженную базу данных

Если все сделали правильно, то после запуска сервера и запуска приложения откроется проект в браузере.

## Вход вв админку

Для входа в административную панель перейдите /adminpanel
Логин admin@admin.ru
Пароль admin

После открытия билетов, создаются записи сетки сеансов на 7 дней.
